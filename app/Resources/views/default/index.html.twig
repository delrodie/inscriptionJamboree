{% extends 'base.html.twig' %}

{% block body %}
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <h1>
                Tableau de bord
                <small>Statistiques</small>
            </h1>
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#"><i class="fa fa-dashboard"></i> Accueil</a></li>
                <li class="breadcrumb-item active">Tableau de bord</li>
            </ol>
        </section>

        <!-- Main content -->
        <section class="content">

            <div class="row">
                <div class="col-12">
                    <div class="box">
                        <div class="box-body tickers-block">
                            <ul id="webticker-8">
                                <li><span class="potential-income">Repartitions des inscris:</span></li>
                                {% for region in regions %}
                                    {% if loop.index is even %}
                                        <li><span class="indicative-value">{{ region.name }} <span class="text-danger">{{ render(url('region_effectif',{'id': region.id})) }} &#40;{{ render(url('region_effectif_statistiques',{'id': region.id})) }}%&nbsp;&#41;</span></span></li>
                                    {% else %}
                                        <li><span class="indicative-value">{{ region.name }} <span class="text-success">{{ render(url('region_effectif',{'id': region.id})) }} &#40;{{ render(url('region_effectif_statistiques',{'id': region.id})) }}%&nbsp;&#41;</span></span></li>
                                    {% endif %}
                                {% endfor %}

                                <!--<li><span class="indicative-value">Abidjan <span class="text-success">1.250 &#40;55%&nbsp;<i class="fa fa-caret-up"></i>&#41;</span></span></li>
                                <li><span class="indicative-value">KNCGR 2.84 <span class="text-danger">-1.14 &#40;30.9%&nbsp;<i class="fa fa-caret-down"></i>&#41;</span></span></li>
                                <li><span class="indicative-value">OIRHD 222.84 <span class="text-success">+61.14 &#40;0.49%&nbsp;<i class="fa fa-caret-up"></i>&#41;</span></span></li>
                                <li><span class="indicative-value">MJGTR 9.84 <span class="text-danger">-1.14 &#40;0.29%&nbsp;<i class="fa fa-caret-down"></i>&#41;</span></span></li>
                                <li><span class="indicative-value">PLATE 52.84 <span class="text-danger">-1.14 &#40;2.9%&nbsp;<i class="fa fa-caret-down"></i>&#41;</span></span></li>
                                <li><span class="indicative-value">NCHDTR 677.84 <span class="text-success">+91.14 &#40;0.9%&nbsp;<i class="fa fa-caret-up"></i>&#41;</span></span></li>
                                <li><span class="indicative-value">MNVHYR 8.84 <span class="text-danger">-1.14 &#40;4.9%&nbsp;<i class="fa fa-caret-down"></i>&#41;</span></span></li>
                                <li><span class="indicative-value">OKPTKR 112.84 <span class="text-success">+51.14 &#40;0.9%&nbsp;<i class="fa fa-caret-up"></i>&#41;</span></span></li>
                                <li><span class="indicative-value">MVNTCR 12.84 <span class="text-danger">-1.14 &#40;3.9%&nbsp;<i class="fa fa-caret-down"></i>&#41;</span></span></li>
                                <li><span class="indicative-value">PLAYR 12.84 <span class="text-success">+13.14 &#40;0.9%&nbsp;<i class="fa fa-caret-up"></i>&#41;</span></span></li>
                                <li><span class="indicative-value">MNVTR 162.84 <span class="text-success">+14.14 &#40;2.9%&nbsp;<i class="fa fa-caret-up"></i>&#41;</span></span></li>
                                <li><span class="indicative-value">AWEQ 162.84 <span class="text-danger">-1.14 &#40;1.9%&nbsp;<i class="fa fa-caret-down"></i>&#41;</span></span></li>
                                <li><span class="indicative-value">QWUBDR 12.84 <span class="text-success">+4.14 &#40;0.9%&nbsp;<i class="fa fa-caret-up"></i>&#41;</span></span></li>-->
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-12">
                    <!-- Chart -->
                    <div class="box">
                        <div class="box-header with-border">
                            <h4 class="box-title">Analyse des donn√©es</h4>

                            <ul class="box-controls pull-right">
                                <li><a class="box-btn-close" href="#"></a></li>
                                <li><a class="box-btn-slide" href="#"></a></li>
                                <li><a class="box-btn-fullscreen" href="#"></a></li>
                            </ul>
                        </div>
                        <div class="box-body">
                            <div class="chart">
                                <div id="e_chart_2" class="" style="height:440px;"></div>
                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->
                </div>

            </div>

        </section>
        <!-- /.content -->
    </div>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script>
        //---echart2
        var dom = document.getElementById("e_chart_2");
        var myChart = echarts.init(dom);
        var app = {};
        option = null;
        option = {
            color: ['#00c292'],
            textStyle: {
                color: '#fff'
            },
            tooltip: {
                trigger: 'axis'
            },
            legend: {
                data:['the highest temperature','the lowest temperature']
            },

            xAxis:  {
                type: 'category',
                boundaryGap: false,
                data: ['Abg', 'Abj', 'Agb', 'Bke', 'Bdk', 'Dal', 'Gag', 'Gba', 'Kat', 'Man', 'Odi', 'Spe', 'Yakro', 'Yop', 'Kho']
            },
            yAxis: {
                type: 'value',
                axisLabel: {
                    formatter: '{value}'
                }
            },
            series: [
                {
                    name:'Maximum',
                    type:'line',
                    data:[{% for region in regions %}{{ render(url('region_effectif',{'id': region.id})) }}, {% endfor %} ],
                    markPoint: {
                        data: [
                            {type: 'max', name: 'Maximum'},
                            {type: 'min', name: 'Minimum'}
                        ]
                    },
                    markLine: {
                        data: [
                            {type: 'average', name: 'Average'}
                        ]
                    }
                }
            ]
        };
        if (option && typeof option === "object") {
            myChart.setOption(option, true);
        }
    </script>
{% endblock %}